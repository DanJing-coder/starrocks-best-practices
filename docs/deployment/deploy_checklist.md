# 部署前环境检查清单

在正式部署 StarRocks 之前，一个干净、配置正确的操作系统环境是集群稳定运行的基础。请在所有计划部署 FE 和 BE 节点的服务器上，逐一完成以下环境检查和配置，确保万无一失。

## 1. 硬件与网络

- [ ] **硬件符合规划:** 确认所有节点的硬件配置（CPU、内存、磁盘）符合[集群规划](./cluster-planning.md)章节的要求。
- [ ] **CPU 指令集支持:** 确认 CPU 支持 **AVX2 和 sse4_2** 指令集。
- [ ] **网络连通性:** 确保所有 FE 和 BE 节点之间网络互通，没有防火墙阻挡。建议所有节点位于同一个万兆交换网段下。
- [ ] **端口可用性:** 确保 FE (`8030`, `9020`, `9030`) 和 BE (`8040`, `9050`, `9060`) 的默认端口未被占用。
- [ ] **防火墙策略检查:** 如果开启了防火墙，请确保 StarRocks 所需端口已开放。

## 2. 操作系统配置

**推荐系统:** CentOS 7+ 或 Ubuntu 16.04+

- [ ] **专用用户已创建:** 已创建 `starrocks` 用户用于运行进程。
- [ ] **SELinux 已关闭或设为 Permissive:** 确认 SELinux 状态为 `permissive` 或 `disabled`。
- [ ] **交换分区 (Swap) 已关闭:** 确认系统已关闭 Swap。
- [ ] **文件句柄数已调高:** 确认 `ulimit -n` 的值不小于 `655350`。
- [ ] **透明大页 (THP) 已关闭:** 确认透明大页（Transparent Huge Pages）已关闭。
- [ ] **时间同步服务已启用:** 确认所有节点已启用 NTP 或 Chrony 服务并完成时间同步。

## 3. 软件依赖

- [ ] **FE 节点 - JDK 已安装:** 确认已安装 JDK 8 或 JDK 11。
- [ ] **BE 节点 - 基础库已安装:** 确认已安装 `libaio` 和 `numactl` 等基础库。
- [ ] **MySQL 客户端已安装:** 确认已安装 MySQL 客户端，以便连接和管理集群。